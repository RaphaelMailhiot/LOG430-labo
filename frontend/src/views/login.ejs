<%- include('_partials/header') %>

<main class="min-h-screen flex items-center justify-center bg-gray-900">
    <div class="w-full max-w-md bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 space-y-6">
        <h1 class="text-2xl font-bold text-center text-gray-900 dark:text-white">Connexion</h1>

        <!-- Toggle button group -->
        <div class="flex justify-center space-x-4" id="modeToggle">
            <button
                    id="btnClient"
                    type="button"
                    class="text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
            >
                Client
            </button>
            <button
                    id="btnMagasin"
                    type="button"
                    class="text-gray-900 bg-gray-200 hover:bg-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 focus:outline-none focus:ring-4 focus:ring-gray-300 dark:text-white dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-800"
            >
                Magasin
            </button>
        </div>

        <!-- Formulaires -->
        <div id="formClient" class="space-y-4">
            <form action="/login-client" method="POST" class="space-y-4">
                <div>
                    <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
                        Votre courriel
                    </label>
                    <input type="email" name="email" id="email" class="input input-bordered w-full dark:text-white dark:bg-gray-700" required />
                </div>
                <div>
                    <label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
                        Mot de passe
                    </label>
                    <input type="password" name="password" id="password" class="input input-bordered w-full dark:text-white dark:bg-gray-700" required />
                </div>
                <button type="submit" class="w-full btn btn-primary">Se connecter</button>
            </form>
        </div>

        <div id="formMagasin" class="space-y-4 hidden">
            <form action="/login-store" method="POST" class="space-y-4">
                <div>
                    <label for="storeId" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
                        SÃ©lectionner un magasin
                    </label>
                    <select
                            id="storeId"
                            name="storeId"
                            required
                            class="select select-bordered w-full dark:bg-gray-700 dark:text-white"
                    >
                        <% stores.forEach(function(store) { %>
                            <option value="<%= store.id %>"><%= store.name %></option>
                        <% }); %>
                    </select>
                </div>
                <button type="submit" class="w-full btn btn-primary">Se connecter</button>
            </form>
        </div>
    </div>
</main>

<%- include('_partials/footer') %>

<script>
    const btnClient = document.getElementById('btnClient');
    const btnMagasin = document.getElementById('btnMagasin');
    const formClient = document.getElementById('formClient');
    const formMagasin = document.getElementById('formMagasin');

    btnClient.addEventListener('click', () => {
        formClient.classList.remove('hidden');
        formMagasin.classList.add('hidden');
        btnClient.classList.add('bg-blue-700', 'text-white');
        btnClient.classList.remove('bg-gray-200', 'text-gray-900');
        btnMagasin.classList.add('bg-gray-200', 'text-gray-900');
        btnMagasin.classList.remove('bg-blue-700', 'text-white');
    });

    btnMagasin.addEventListener('click', () => {
        formMagasin.classList.remove('hidden');
        formClient.classList.add('hidden');
        btnMagasin.classList.add('bg-blue-700', 'text-white');
        btnMagasin.classList.remove('bg-gray-200', 'text-gray-900');
        btnClient.classList.add('bg-gray-200', 'text-gray-900');
        btnClient.classList.remove('bg-blue-700', 'text-white');
    });
</script>
